<div class="container" ng-controller="propertyController" ng-init="listProperties()">

    <!-- map to get location -->
    <div >
      <ng-map center="48.8221891, 2.3307503" zoom="4" id="map">
        <marker ng-repeat="record in properties"
          position="{{record.address.lat}},{{record.address.lng}}"
          title="{{p.toString()}}"
          on-click="map.showInfoWindow('bar-{{$idx}}')" >
        </marker>


        <info-window id="bar-{{$idx}}" ng-repeat="info in properties" >
          <div ng-non-bindable>
            <div class="row">
              <div class="col-lg-4">
                <img ng-src="http://52.29.132.129/api/r/{{info.photos}}" />
              </div>
              <div class="col-lg-6">
                <div class="price">{{info.estimates.price}}</div>
                <span class="second-line">{{info.general.bedrooms}} bd, {{info.general.bathrooms}} ba</span>
                <span class="third-line">{{info.lot.size}} {{info.lot.type}}</span>
              </div>
            </div>
            <a ng-href="/#/property/{{info._id}}">view</a>

          </div>
        </info-window>

      </ng-map>
  </div><!-- create-->

</div>
